FROM --platform=linux/arm64 public.ecr.aws/docker/library/python:3.12-slim-bookworm

WORKDIR /app

# 의존성 복사
COPY python/ /app/python/
COPY agentcore_worker_http.py /app/

# PYTHONPATH 설정
ENV PYTHONPATH=/app/python:$PYTHONPATH

# 포트 노출
EXPOSE 8080

# BedrockAgentCoreApp 실행
CMD ["python", "agentcore_worker_http.py"]
